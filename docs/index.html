<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <title>Conan | Package management in C++</title>

        <link rel="stylesheet" href="css/reset.css">
        <link rel="stylesheet" href="css/reveal.css">
        <link rel="stylesheet" href="css/theme/black.css">

        <!-- Theme used for syntax highlighting of code -->
        <link rel="stylesheet" href="lib/css/monokai.css">
        <!-- My CSS -->
        <link href="fontawesome/css/all.css" rel="stylesheet">
        <link rel="stylesheet" href="css/custom.css">

        <!-- Printing and PDF exports -->
        <script>
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
        </script>
    </head>
    <body>
        <div class="reveal">
            <div class="my-header">
            </div>

            <div class="my-foot">
                <a class="github-button" href="https://github.com/jgsogo/talk-meetup-bcn-2019" data-icon="octicon-eye" aria-label="Watch jgsogo/talk-meetup-bcn-2019 on GitHub">
                    jgsogo/talk-meetup-bcn-2019
                </a>
                <a class="twitter-share-button" rel="me" href="https://twitter.com/intent/tweet">
                    <link rel="me" href="https://twitter.com/jgsogo">
                    Tweet @jgsogo
                </a>
                <img class="img-inline" src="img/by-nc-sa.png">
                Javier G. Sogo | Senior software developer |
                <img class="img-inline" src="img/jfrog-logo.png"> JFrog LTD |
                <img class="img-inline" src="img/conan-logo.png"> Conan C/C++ Package Manager
            </div>


            <div class="slides">
                <section data-transition="convex" class="no-footer">
                    <h1 class="lol">Conan</h1>
                    <h1><small>Package management in C++</small></h1>
                    
                    <div class="speaker-conference">
                        <div>
                            <img style="height: 100px;" data-src="img/jfrog-logo.png">
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            <img style="height: 100px;" data-src="img/conan-logo.png">
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            <img style="height: 100px;" data-src="img/cpp-logo.png">
                        </div>

                        <div class="conference">
                            <hr/>
                            <p>December 11th, 2019</p>	
                            <p>C++ Programmer Meetup (BCN)</p>
                        </div>
                        <div class="middle"></div>
                        <div class="speaker">
                            <hr/>
                            <p>Javier García Sogo</p>
                            <p>C++/Python/DevOps... engineer</p>
                            <p>
                                <i class="fab fa-twitter"></i>
                                <i class="fab fa-github"></i>
                                &nbsp; @jgsogo
                            </p>
                        </div>
                    </div>
                </section>

                <!-- ABOUT ME -->
                <section class="no-footer text-animation" data-slide-type="author" data-background-color="#414141">
                    <h3>About me</h3>
                    <img data-src="images/me.png" class="avatar"/>
                    <p>Javier G. Sogo</p>
                    <p>
                        Software | 
                        <span class="blue"><b>Conan.io</b></span> |
                        <span class="green"><b>JFrog</b>&trade;</span>
                    </p>
                    <p>
                        <small>
                            <img data-src="img/github-logo.svg" class="brand-icon"/>jgsogo
                                &nbsp;&nbsp;&nbsp;&nbsp; 
                            <img data-src="img/twitter-logo.svg" class="brand-icon"/>@jgsogo
                        </small>
                    </p>
                    <div class="text-animation-wrapper work-with" prefix="Side projects: ">
                        <div style="display: none">
                            <span>Madrid C/C++</span>
                            <span>NLP</span>
                            <span>Lingẅars</span>
                            <span>Data</span>
                        </div>
                        <p class="text-animation"></p>
                    </div>
                </section>

                <section data-transition="convex">
                    <section class="no-footer" data-state="darken" data-background="images/tragedia-comedia.jpg" data-background-size="cover">
                        <h1>Act. I</h1>
                        <h2>Love and hate</h2>

                        <aside class="notes" data-markdown>
                            Para preparar esta charla he recorrido todos mis repositorios en Github, desde el principio
                            de los tiempos hasta hoy. Aquí y ahora quiero compartir mi historia de amor/odio con C++
                            con todos vosotros.
                        </aside>
                    </section>

                    <section>
                        <h2>C++ experience (+10y)*</h2>
                        <div class="credit">*before joining JFrog</div>
                        <div class="left">
                            <h4>UPM intern</h4>
                            <ul class="fragment">
                                <li>It's own framework</li>
                                <li><code>xxx::shared_ptr</code></li>
                                <li>SVN monorepo</li>
                                <li>without a CI</li>
                                <li>VS projects</li>
                                <li>~100 projects</li>
                            </ul>
                        </div>
                        <div class="right">
                            <h4>Quant developer</h4>
                            <ul class="fragment">
                                <li>It's own framework</li>
                                <li><code>yyy::shared_ptr</code></li>
                                <li>SVN monorepo</li>
                                <li>CI</li>
                                <li>CMake</li>
                                <li>~400 projects</li>
                            </ul>
                        </div>
                    </section>

                    <section data-background="images/side-project.svg">
                        <div class="credit">Image: https://howmuchismysideprojectworth.com/</div>
                        <h1>Side projects!</h1>
                    </section>

                    <section>
                        <h2>Let's do some WWW</h2>
                        <img data-src="images/chimppunch.png" class="stretch">
                        <!--<p><img data-src="img/python-logo.png" class="img-inline is-transparent"></p>-->
                        <p>
                            <span class="fragment">C++</span>
                            <span class="fragment"><i class="fas fa-long-arrow-alt-right"></i> PHP</span>
                            <span class="fragment"><i class="fas fa-long-arrow-alt-right"></i><strong> Python</strong></span>
                            <span class="fragment"><i class="fas fa-long-arrow-alt-right"></i><strong> <i class="fab fa-internet-explorer"></i></strong></span>
                        </p>
                        <aside class="notes" data-markdown>
                            Quería hacer webs, realmente me interesaba manejar una base de datos. Probé cosas en C++ como
                            Treefrog, Qt (que tenía algo para sacar HTML), también probé PHP (Zend), incluso hice algunos
                            pinitos para construir mi framework desde cero (JAJAJA). Finalmente opté por Django, el framework
                            es brutal y la facilidad para añadir cosas... así desembarqué en Python
                        </aside>
                    </section>

                    <!--
                    <section>
                        <h2>An ORM: queryset-cpp</h2>
                        <pre><code class="hljs cpp" data-trim data-noescape>
                            template &lt;template &lt;typename /*TModel*/> class TManager, typename tpk, typename... Args>
                            class Model final : public BaseModel&lt;Model&lt;TManager, tpk, Args...>, TManager, tpk, Args...> {
                                using BaseM = BaseModel&lt;Model&lt;TManager, tpk, Args...>, TManager, tpk, Args...>;
                                public:
                                    Model() {};
                                    Model(const typename BaseM::tuple& data) : BaseM(data) {};
                                    virtual ~Model() {};

                            };

                            // std::get delegate, we not always have a std::tuple here
                            template &lt;std::size_t I, typename TModel, template &lt;typename /*TModel*/> class TManager, typename tpk, typename... Args>
                            auto getter(const qs::BaseModel&lt;TModel, TManager, tpk, Args...>& item) {
                                return item.template get&lt;I>();
                            }
                        </code></pre>
                        <p>
                            <span class="fragment">C++11</span>
                            <span class="fragment"><i class="fas fa-long-arrow-alt-right"></i> C++14</span>
                            <span class="fragment"><i class="fas fa-long-arrow-alt-right"></i><strong> <i class="fas fa-sad-tear"></i> (sqlcpp11)</strong></span>
                        </p>

                        <aside class="notes" data-markdown>
                            Vi que Django era bueno, que tenía un ORM potente. Llegaron las variadics a C++, el boom de
                            las tuplas, yo quería estar allí. Código excesivamente complejo. Todo escrito desde cero
                        </aside>
                    </section>
                    -->

                    <section data-state="darken" data-background="images/neutron-arquitectura.png" data-background-size="contain">
                        <h2 class="box-shadow-black">NLP</h2>
                        <div class="left fragment box-shadow-black">
                            <h4>Python</h4>
                            <ul>
                                <li>Web (backend)</li>
                                <li>Scraping</li>
                                <li>Orchestration</li>
                                <li>Data preparation</li>
                                <li>DB layer</li>
                            </ul>
                        </div>
                        <div class="right fragment box-shadow-black">
                            <h4>C++</h4>
                            <ul>
                                <li>Read CSV</li>
                                <li>Process data</li>
                                <li>Write CSV</li>
                            </ul>
                        </div>
                    </section>

                    <section>
                        <h2>Twitter bot</h2>
                        <img data-src="images/tw-estudiahistoria.png" class="stretch"/>
                        <p>
                            Scrape, classify (NLP), monitor, tweet
                            <span class="fragment"><i class="fas fa-long-arrow-alt-right"></i>&nbsp;<i class="fab fa-python"></i></span>
                        </p>
                    </section>

                    <section>
                        <h2>Telegram bot</h2>
                        <img data-src="images/wallapop-monitor.png" class="stretch"/>
                        <p>
                            Commands, scrape, bot
                            <span class="fragment"><i class="fas fa-long-arrow-alt-right"></i>&nbsp;<i class="fab fa-python"></i></span>
                        </p>
                    </section>

                    <section>
                        <h2>ADIF + Renfe</h2>
                        <iframe width="100%" height="520" frameborder="0" src="https://jgsogo.cartodb.com/viz/1f707e86-613c-11e5-a7e5-0e9d821ea90d/embed_map" allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe>
                    </section>

                    <section>
                        <h2>C++ side projects</h2>
                        <p class="fragment">All speculative</p>
                        <p class="fragment"><i class="fab fa-linux"></i>&nbsp;&nbsp;&nbsp;<code>make && sudo make install</code></p>
                        <p class="fragment"><i class="fab fa-windows"></i>&nbsp;?</p>

                        <aside class="notes" data-markdown>
                            Todos los proyectos de C++ han sido especulativos, o probar features del lenguaje,
                            o reescribir alguna utilidad,... pero realmente ninguna ha producido nada que
                            pueda enseñaros funcionando.
                            ¿Y cómo ejecutar ese programa en la raspberry?
                        </aside>
                    </section>

                    <section>
                        <img class="is-transparent" data-src="images/languages.png"/>
                        <p>I want my job done!</p>

                        <aside class="notes" data-markdown>
                            No hay programadores junior, el lenguaje tiene una barrera de acceso tremenda, y la
                            gente muchas veces quiere ver los resultados.
                            ¿Qué lenguaje es mejor? Hay muy diferentes maneras de compararlos, pero si estamos
                            aquí es porque creemos que a C++ todavía le queda recorrido.
                        </aside>
                    </section>

                </section>

                <section data-transition="convex">
                    <section data-state="darken" data-background="images/child-dream.png" data-background-size="cover">
                        <h1>Act. II</h1>
                        <h2>I had a dream</h2>

                        <aside class="notes" data-markdown>
                            DEMO: Consumiendo un paquete!

                            Y aquí me voy a la consola (VS Code??) y hago un par de ejemplos sobre cómo tendrían que ser las cosas:
                             * openCV
                             * telegram bot
                             * twitter stream
                             * publish tweet, ¿puedo mostrar luego el último tweet de un usuario?
                        </aside>
                    </section>

                    <section>
                        <h2>OpenCV: face recognition</h2>
                        <pre><code class="hljs cpp" data-trim data-noescape>
                        #include &lt;opencv2/opencv.hpp>
                        #include &lt;iostream>

                        using namespace cv;
                        using namespace std;

                        /** Global variables */
                        string window_name = "My Camera Feed";
                        String face_cascade_name = "haarcascade_frontalface_alt.xml";
                        String eyes_cascade_name = "haarcascade_eye_tree_eyeglasses.xml";
                        CascadeClassifier face_cascade;
                        CascadeClassifier eyes_cascade;

                        /** Function Headers */
                        void detectAndDisplay( Mat frame );

                        int main(int argc, char* argv[]) {
                            //-- 1. Load the cascades
                            if( !face_cascade.load( face_cascade_name ) ){ printf("--(!)Error loading\n"); return -1; };
                            if( !eyes_cascade.load( eyes_cascade_name ) ){ printf("--(!)Error loading\n"); return -1; };

                            //Open the default video camera
                            VideoCapture cap(0);

                            // if not success, exit program
                            if (cap.isOpened() == false) {
                                cout << "Cannot open the video camera" << endl;
                                cin.get(); //wait for any key press
                                return -1;
                            } 

                            namedWindow(window_name); //create a window called "My Camera Feed"
                            moveWindow(window_name, 20,20);
                            while (true) {
                                Mat frame;
                                bool bSuccess = cap.read(frame); // read a new frame from video 

                                //Breaking the while loop if the frames cannot be captured
                                if (bSuccess == false) 
                                {
                                    cout << "Video camera is disconnected" << endl;
                                    cin.get(); //Wait for any key press
                                    break;
                                }

                                detectAndDisplay(frame);
                                //show the frame in the created window
                                imshow(window_name, frame);

                                //wait for for 10 ms until any key is pressed.  
                                //If the 'Esc' key is pressed, break the while loop.
                                //If the any other key is pressed, continue the loop 
                                //If any key is not pressed withing 10 ms, continue the loop 
                                if (waitKey(10) == 27) {
                                    cout << "Esc key is pressed by user. Stoppig the video" << endl;
                                    break;
                                }
                            }
                            return 0;
                        }

                        void detectAndDisplay( Mat frame ) {
                            std::vector<Rect> faces;
                            Mat frame_gray;

                            cvtColor(frame, frame_gray, COLOR_BGR2GRAY);
                            equalizeHist( frame_gray, frame_gray );

                            //-- Detect faces
                            face_cascade.detectMultiScale(frame_gray, faces, 1.1, 2, 0 | CASCADE_SCALE_IMAGE, Size(30, 30));

                            for( size_t i = 0; i < faces.size(); i++) {
                                Point center( faces[i].x + faces[i].width*0.5, faces[i].y + faces[i].height*0.5 );
                                ellipse( frame, center, Size( faces[i].width*0.5, faces[i].height*0.5), 0, 0, 360, Scalar( 255, 0, 255 ), 4, 8, 0 );

                                Mat faceROI = frame_gray( faces[i] );
                                std::vector<Rect> eyes;

                                //-- In each face, detect eyes
                                eyes_cascade.detectMultiScale(faceROI, eyes, 1.1, 2, 0 | CASCADE_SCALE_IMAGE, Size(30, 30));

                                for( size_t j = 0; j < eyes.size(); j++ ) {
                                    Point center( faces[i].x + eyes[j].x + eyes[j].width*0.5, faces[i].y + eyes[j].y + eyes[j].height*0.5 );
                                    int radius = cvRound( (eyes[j].width + eyes[j].height)*0.25 );
                                    circle( frame, center, radius, Scalar( 255, 0, 0 ), 4, 8, 0 );
                                }
                            }
                            //-- Show what you got
                            imshow( window_name, frame );
                        }
                        </code></pre>
                        <p><small><a href="https://gist.github.com/jgsogo/fd128040b46c65c25f68f9a9621fa658" target="_blank">Sources in public Gist</a></small></p>
                    </section>

                    <section class="no-footer" data-background-iframe="../examples/opencv.html" data-background-interactive data-background-color="#ffffff">
                        <h2>OpenCV</h2>
                        <p class="spacer">&nbsp;</p>
                        <p class="spacer">&nbsp;</p>
                        <p class="spacer">&nbsp;</p>
                        <p class="spacer">&nbsp;</p>
                    </section>

                    <section>
                        <h2>Post to Twitter</h2>
                        <pre><code class="hljs cpp" data-trim data-noescape>
                        #include &lt;iostream>
                        #include &lt;sstream>
                        #include &lt;string>

                        #include &lt;curl/curl.h>
                        #include &lt;oauth.h>

                        int main() {
                            const char* api_key = std::getenv("TWITTER_API_KEY");
                            const char* api_secret_key = std::getenv("TWITTER_API_SECRET_KEY");
                            const char* access_token = std::getenv("TWITTER_ACCESS_TOKEN");
                            const char* access_token_secret = std::getenv("TWITTER_ACCESS_TOKEN_SECRET");

                            std::cout << "TWITTER_API_KEY: '" << api_key << "'\n";
                            std::cout << "TWITTER_ACCESS_TOKEN: '" << access_token << "'\n";

                            const std::string message = "This is a test message";

                            curl_global_init(CURL_GLOBAL_DEFAULT);
                            auto curl = curl_easy_init();

                            std::ostringstream os;
                            os << "https://api.twitter.com/1.1/statuses/update.json?status=" << curl_easy_escape(curl, message.c_str(), message.size());

                            auto r = oauth_sign_url2(os.str().c_str(), nullptr, OA_HMAC, "POST", api_key, api_secret_key, access_token, access_token_secret);
                            curl_easy_setopt(curl, CURLOPT_URL, r);
                            curl_easy_setopt(curl, CURLOPT_POST, 1L);
                            curl_easy_setopt(curl, CURLOPT_POSTFIELDS, "");
                            curl_easy_setopt(curl, CURLOPT_USERAGENT, "Console client");
                            curl_easy_setopt(curl, CURLOPT_FAILONERROR, 1);

                            auto status = curl_easy_perform(curl);

                            curl_easy_cleanup(curl);
                            curl_global_cleanup();
                            return 0;
                        }
                        </code></pre>
                    </section>

                    <section class="no-footer" data-background-iframe="../examples/tw-post-image.html" data-background-interactive data-background-color="#ffffff">
                        <h2>Twitter</h2>
                        <p class="spacer">&nbsp;</p>
                        <p class="spacer">&nbsp;</p>
                        <p class="spacer">&nbsp;</p>
                        <p class="spacer">&nbsp;</p>
                    </section>

                    <section>
                        <h2>My dream</h2>
                        <hr/>
                        <h2>Someone else's work</h2>
                    </section>
                </section>

                <section data-transition="convex">
                    <section data-state="darken" data-background="img/conan-logo.png" data-background-repeat="repeat" data-background-size="20px">
                        <h1>Act. III</h1>
                        <h2>Conan, C/C++ package manager</h2>
                    </section>

                    <section>
                        <h2>Conan.io</h2>
                        <hr/>
                        <p>Development team:</p>
                        <div style="height: 100px;">
                            <img class="is-transparent" data-src="images/diego.jpg"/>
                            <img class="is-transparent" data-src="images/laso.jpg"/>
                            <img class="is-transparent" data-src="images/danimtb.jpg"/>
                            <img class="is-transparent" data-src="images/javi.png"/>
                            <img class="is-transparent" data-src="images/zoido.jpg"/>
                            <img class="is-transparent" data-src="images/uilian.jpg"/>
                            <img class="is-transparent" data-src="images/sse4.jpg"/>
                            <img class="is-transparent" data-src="images/unknown-face.png"/>
                        </div>
                        <p class="spacer"></p>
                        <p>Join us! We are hiring!</p>
                        <hr/>
                        
                        <div>
                            <a href="https://conandays.conan.io/"><img class="is-transparent" data-src="images/conandays-strip.png"/></a>
                        </div>
                        
                        <aside class="notes" data-markdown>
                            Aquí, aprovecho el banner para decir que los ConanDays es la excusa perfecta: le dices a tu jefe que
                            vienes a una conferencia y realmente vienes a una entrevista de trabajo.
                        </aside>
                    </section>

                    <section data-state="darken" data-background="img/conan-logo.png" data-background-size="contain">
                        <h2>Main features</h2>
                        <p>Share binaries (distributed as Git)</p>
                        <p>3rd parties & your libraries</p>
                        <p>Non intrusive</p>

                        <aside class="notes" data-markdown>
                            * Share binaries in your development team (distributed like in Git)
                            * You can package 3rd parties, but also your own libraries
                            * Non intrusive, no need to modify your sources, you build system,... same as before, but better
                        </aside>
                    </section>

                    <section data-state="darken" data-background="img/conan-logo.png" data-background-size="contain">
                        <h2>Key components</h2>
                        <p>Reference</p>
                        <p>Package ID</p>
                        <hr/>
                        <p><code><span class="green">name/version</span>:<span class="red">package_id</span></code></p>
                        <hr/>
                    </section>

                    <section data-state="darken" data-background="img/conan-logo.png" data-background-size="contain">
                        <h2>Reference</h2>
                        <p><code>'name'</code> and <code>'version'</code> of the library</p>
                        <p><code><span class="green">boost/1.71.0</span></code></p>
                        <p><code><span class="green">openssl/1.1.1d</span></code></p>
                        <hr/>
                        <small>
                            <p>*Use only <code>'name/version@user/channel'</code> to avoid collisions</p>
                            <p>*Recipes are versioned using <code>'name/version#recipe_revision'</code></p>
                        </small>
                    </section>

                    <section data-state="darken" data-background="img/conan-logo.png" data-background-size="contain">
                        <h2>Package ID</h2>
                        <p>Unique identifier of the binaries</p>
                        <div style="text-align: left;">
                            <p><i class="fas fa-long-arrow-alt-right"></i>&nbsp;Linux, x86_64, GCC 6, Release, shared=True,...:</p>
                            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code><span class="green">openssl/1.1.1d</span>:<span class="red">008f1a2b119556f550c11...</span></code></p>

                            <p><i class="fas fa-long-arrow-alt-right"></i>&nbsp;Linux, x86_64, GCC 6, Debug, shared=False,...:</p>
                            <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code><span class="green">openssl/1.1.1d</span>:<span class="red">160c0f76fcf1ad0d80837...</span></code></p>
                        </div>

                        <aside class="notes" data-markdown>
                            El package ID es el identificador único de un binario: sistema operativo, compilador, versión del
                            compilador, opciones del paquete, dependencias,... todo aquello que pueda afectar al binario de un
                            paquete debe provocar un cambio en el package_ID.

                            Conan permite a fine-grained control of the package ID, fully configurable.
                        </aside>
                    </section>

                    <section data-state="darken" data-background="img/conan-logo.png" data-background-size="contain">
                        <h2>Other components</h2>
                        <ul>
                            <li>Profiles</li>
                            <li>Generators</li>
                            <li>Build helpers</li>
                        </ul>
                        <aside class="notes" data-markdown>
                            Profiles: set of settings, options,... to apply to a build
                            Generators: make Conan information available to the build system: dependencies
                            Build helpers: translate Conan settings into compiler flags
                        </aside>
                    </section>

                    <section data-background="images/too-much-information.jpg" data-background-size="cover">
                        <div class="box-shadow-black">
                            <h2><i class="fas fa-pray"></i> example!</h2>
                        </div>
                    </section>

                    <section>
                        <h2>Create an application</h2>
                        <p>
                            Consuming some libraries (
                                <a href="https://bintray.com/conan/conan-center" target="_blank"><i class="fas fa-cubes"></i></a> |
                                <a href="https://github.com/conan-io/conan-center-index" target="_blank"><i class="fab fa-github"></i></a>
                                )
                        </p>
                        <pre><code class="hljs ini" data-trim data-noescape>
                            [requires]
                        </code></pre>
                        <p>Using CMake</p>
                        <pre><code class="hljs ini" data-trim data-noescape>
                            [generators]
                            cmake
                            cmake_find_package
                        </code></pre>

                        <aside class="notes" data-markdown>
                            A word about Conan Center Index (I have some links there!)
                        </aside>
                    </section>

                    <section>
                        <h2>Graph of dependencies</h2>
                        <!-- TODO: Add image -->
                    </section>

                    <section data-background="images/packaging.jpg" data-background-size="cover">
                        <div class="box-shadow-black">
                            <h2>Contribute your packages</h2>
                            <aside class="notes" data-markdown>
                                * Public ones: conan-center-index
                                * Private ones: Artifactory C/C++
                            </aside>
                        </div>
                    </section>

                    <section>
                        <h2>conanfile.py</h2>
                        <p>1) Declare your settings and dependencies</p>
                        <pre><code class="hljs python" data-trim data-noescape>
                            from conans import ConanFile, CMake

                            class MyRecipe(ConanFile):
                                name = "name"
                                version = "version"

                                settings = "os", "arch", "compiler", "build_type"
                                requires = ""
                                generators = "cmake", "cmake_find_package"
                        </code></pre>
                    </section>

                    <section>
                        <h2>conanfile.py</h2>
                        <p>2) Where to get the sources</p>
                        <pre><code class="hljs python" data-trim data-noescape>
                            from conans import ConanFile, CMake, tools

                            class MyRecipe(ConanFile):
                                ...

                                # Use magic if recipe and sources are in the same repository
                                scm = {"type": "git",
                                       "revision": "auto",
                                       "url": "auto"}

                                def source(self):
                                    # Write your own function
                                    tools.get(url="...", sha1="...")
                                    os.rename("name-version", "source_folder")
                        </code></pre>
                    </section>

                    <section>
                        <h2>conanfile.py</h2>
                        <p>3) How to build your library</p>
                        <pre><code class="hljs python" data-trim data-noescape>
                            from conans import ConanFile, CMake, tools

                            class MyRecipe(ConanFile):
                                ...

                                def build(self):
                                    cmake = CMake(self)
                                    cmake.configure()
                                    cmake.build()
                        </code></pre>
                    </section>

                    <section>
                        <h2>conanfile.py</h2>
                        <p>4) What to package</p>
                        <pre><code class="hljs python" data-trim data-noescape>
                            from conans import ConanFile, CMake, tools

                            class MyRecipe(ConanFile):
                                ...

                                def package(self):
                                    cmake = CMake(self)
                                    cmake.configure()
                                    cmake.install()
                                    self.copy("LICENSE.txt", dst="licenses", src=self._source_subfolder)
                        </code></pre>
                    </section>

                    <section>
                        <h2>Publish your package</h2>
                        <p>Create the package</p>
                        <pre><code class="hljs cmd" data-trim data-noescape>
                            conan create path/to/conanfile.py --profile=macos-11-release
                        </code></pre>
                        <p>Upload to your server</p>
                        <pre><code class="hljs cmd" data-trim data-noescape>
                            conan upload name/version@ --all --remote=my-private
                        </code></pre>
                    </section>
                </section>

                <section data-transition="convex">
                    <section data-state="darken" data-background="images/investors-board.jpg" data-background-repeat="cover">
                        <h1>Act. IV</h1>
                        <h2>Conan at your company</h2>
                    </section>

                    <section>
                        <h2>Major pains</h2>
                        <ul class="fragment">
                            <li>Divide your monolith</li>
                            <li>Developers: less to compile</li>
                            <li>DevOps: reduce CI times</li>
                            <li>Trazability and reproducibility</li>
                        </ul>
                    </section>

                </section>

                <section data-transition="convex">
                    <section data-background="images/back-to-the-future.jpg" data-background-size="cover">
                        <p class="spacer"></p>
                        <p class="spacer"></p>
                        <h2>C++ ecosystem is ready</h2>
                        <h1>and you?</h1>
                    </section>
                </section>

                <!-- Conan Days: si no estás ready, ven a aprender más al Conan Days en Madrid -->

                <!--
                    Bibliography:
                     * https://github.com/GodotNativeTools/godot-cpp

                -->

                <section data-transition="convex" class="no-footer">
                    <h1 class="lol">Conan</h1>
                    <h1><small>Package management in C++</small></h1>
                    
                    <div class="speaker-conference">
                        <div>
                            <img style="height: 100px;" data-src="img/jfrog-logo.png">
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            <img style="height: 100px;" data-src="img/conan-logo.png">
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            <img style="height: 100px;" data-src="img/cpp-logo.png">
                        </div>

                        <div class="conference">
                            <hr/>
                            <p>December 11th, 2019</p>	
                            <p>C++ Programmer Meetup (BCN)</p>
                        </div>
                        <div class="middle"></div>
                        <div class="speaker">
                            <hr/>
                            <p>Javier García Sogo</p>
                            <p>C++/Python/DevOps... engineer</p>
                            <p>
                                <i class="fab fa-twitter"></i>
                                <i class="fab fa-github"></i>
                                &nbsp; @jgsogo
                            </p>
                        </div>
                    </div>
                </section>  

                <section data-transition="convex">
                    <section>
                        <h2>Next in Conan (under development)</h2>
                    </section>

                    <section>
                        <h2>Conan days</h2>
                    </section>

                </section>

            </div>
        </div>

        <script src="js/reveal.js"></script>
        <script src="js/jquery-3.4.1.min.js"></script>
        <script src="js/custom.js"></script>
        <script src="js/text-animation.js"></script>

        <!-- Social buttons -->
        <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
        <script async defer src="https://buttons.github.io/buttons.js"></script>

        <script>

            // More info about config & dependencies:
            // - https://github.com/hakimel/reveal.js#configuration
            // - https://github.com/hakimel/reveal.js#dependencies
            Reveal.initialize({
                history: true,
                slideNumber: true,
                previewLinks: false,
                pdfSeparateFragments: false,
                pdfMaxPagesPerSlide: 1,
                dependencies: [
                    { src: 'plugin/markdown/marked.js' },
                    { src: 'plugin/markdown/markdown.js' },
                    { src: 'plugin/notes/notes.js', async: true },
                    { src: 'plugin/highlight/highlight.js', async: true },
                ]
            });
            Reveal.addEventListener( 'ready', function( event ) {
                setTimeout(function () {
                    footer_visibility(event.currentSlide, Reveal.isSpeakerNotes());
                }, 100);
            });

            var animated_elements = []
            var animated_histograms = []
            Reveal.addEventListener( 'slidechanged', function( event ) {
                setTimeout(function () {
                    footer_visibility(event.currentSlide, Reveal.isSpeakerNotes());
                }, 100);

                // Start text-animation
                animated_elements.forEach(function(elem) {elem.stop = true;});
                animated_elements.length = 0;
                $(event.currentSlide).find(".text-animation-wrapper").each(function(){
                    var data = animate_element($(this));
                    animated_elements.push(data);
                });
                
            });
        </script>
    </body>
</html>
